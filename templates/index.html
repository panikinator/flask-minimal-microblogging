{% extends "layout.html" %} {% block title %}
<title>Index Page</title>
{% endblock %} {% block header %}
<nav>
  <ul>
    <li><a href="/" class="current">home</a></li>
    <li><a href="/new_post">new post</a></li>
    <li><a href="/logout">{{ session.get("username", "") }}|logout</a></li>
  </ul>
</nav>
{% endblock header %} {% block main %}
<h1>Recent Posts</h1>
{% for post in posts %}
<article hx-confirm="are you sure?" hx-target="this" hx-swap="outerHTML swap:1s" >
  <h3>By: {{ post.username }}</h3>
  <h4>At: {{ post.time_posted }}</h4>
  <hr>
  <p>{{ post.content }}</p>
  {% if session["username"] == post.username  %}
  <hr>
  <button hx-get="/posts/{{ post.id }}/edit">
    Edit
  </button>
  <button hx-delete="/posts/{{ post.id }}/delete">
    Delete
  </button>
  {% endif %}
</article>
{% endfor %}
<div
  hx-get="/get_posts?page=2"
  hx-trigger="revealed"
  hx-swap="outerHTML"
  hx-target="this"
></div>
{% endblock %}
